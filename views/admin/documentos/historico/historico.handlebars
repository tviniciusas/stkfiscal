<!-- jQuery -->
<script src="../../../../plugins/jquery/jquery.min.js"></script>
<script src="../../../../plugins/datatables/jquery.dataTables.min.js" type="text/javascript"></script>

<style type="text/css">
    .canvas {
        width: 10px;
        float: left;
    }

    .linha-vertical {
        height: 80px;
        border-left: 2px solid #f4f4f4;
        width: 10px;
        margin-left: 24px;
    }

    .linha-vertical2 {
        height: 71px;
        border-left: 2px solid #f4f4f4;
        width: 10px;
        margin-left: 24px;
        margin-top: 50px;
    }

    .circulo {
        height: 50px;
        width: 50px;
        background-color: #f4f4f4;
        border-radius: 30px;
        float: left;
    }

    .time {
        margin-left: 37px;
    }

    .custom {
        margin-left: 56px;
        margin-top: 10px;
        margin-bottom: 30px;
    }

    .dados {
        background-color: #f4f4f4;
        padding: 10px;
        margin-top: 5px;
        border-radius: 5px;
    }
</style>

{{> scripts}}

<div class="card card-primary card-outline">
    <div class="card-header">
       <h3 class="card-title">Histórico</h3>
    </div>
    <div class="card-body">
        <script>
            function addBadge(index, status) {
                var label = '';
                switch(status) {
                    case 'DIGITAÇÃO': 
                        label = 'primary';
                        break;
                    case 'SOLICITADO': 
                        label = 'warning';
                        break;
                    case 'FINALIZADO': 
                        label = 'success';
                        break;
                }
                
                $(".status"+index).find('span').addClass('badge-'+label);
            }
        </script>
        {{#each historicos}}
            <div class="canvas">
                <div class="linha-vertical"></div>
                <div class="circulo"></div>
                <div class="linha-vertical2"></div>
            </div>
            <div class="time">{{this.data_hora}}</div>
            <div class="card custom">
                <div class="card-body">
                    <div class="dados">
                        <div class="status{{@index}}">
                            <strong>Status:</strong> <span class="badge">{{this.status}}</span>
                        </div>
                        <div><strong>Empresa:</strong> {{this.empresa}}</div>
                        <div><strong>Descrição:</strong> {{this.descricao}}</div>
                    </div>
                </div>
            </div>
            <script>addBadge({{@index}}, '{{this.status}}');</script>
        {{/each}}
    </div>
    <div class="card-footer"></div>
</div>